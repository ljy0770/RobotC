#pragma config(Sensor, S1,     left_light,     sensorEV3_Color)
#pragma config(Sensor, S2,     middle_light,   sensorEV3_Color, modeEV3Color_Color)
#pragma config(Sensor, S3,     right_light,    sensorEV3_Color)
#pragma config(Sensor, S4,     ultrasonicc,    sensorEV3_Ultrasonic)
#pragma config(Motor,  motorB,          motorLeft,     tmotorEV3_Large, PIDControl, encoder)
#pragma config(Motor,  motorC,          motorRight,    tmotorEV3_Large, PIDControl, encoder)
#pragma config(Motor,  motorD,          motorMiddle,   tmotorEV3_Large, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#define THRESHOLD 50
task main()
{
	int left_light_value;
	int right_light_value;
  int sonic;


	int count1 = 0;   // moving grid number
	int count2 = 0;   // first color recognition number
	int count3 = 0;   // crush object number


	left_light_value   =  SensorValue(S1);
	right_light_value  =  SensorValue(S3);
  sonic              =  SensorValue(S4);
  clearTimer(T3);
  
    while(true)
 {

       while(time1[T3]<3000)
	      		{
	      			setMotorSpeed(motorB,0);
	            setMotorSpeed(motorC,0);
	          }


  /*  	if(sonic<15)
  
    		count3++;
	      clearTimer(T1);
       while(time1[T1]<1000)
	      		{
	      			setMotorSpeed(motorB,-10);
	            setMotorSpeed(motorC,-10);
	          }*/
	


    if(left_light_value > THRESHOLD)
     
              if(right_light_value > THRESHOLD)  // when all side white
              {  
              	setMotorSpeed(motorB,20);
	              setMotorSpeed(motorC,20);
	               
	            }
	            else                               // when only left side white
	           {   
	            	setMotorSpeed(motorB,10);
	              setMotorSpeed(motorC,-10);
	                 }

     


	   else
   
	     if(right_light_value > THRESHOLD)          // when only right side white

	     {
	       setMotorSpeed(motorB,10);
	       setMotorSpeed(motorC,-10);
	     }

	     else                                       // when all side black
	      { count1++;
	      	clearTimer(T2);
	      	while(time1[T2]<10000)
	      		{  setMotorSpeed(motorB,0);
	             setMotorSpeed(motorC,0);
	          }
	      } 
	 
    
  }

}
